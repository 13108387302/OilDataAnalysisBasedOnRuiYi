# 石油参数预测系统需求文档

## 1. 项目概述

### 1.1 项目背景
本项目是基于特定论文研究成果开发的石油参数预测系统，通过对测井数据进行分析和处理，计算分形维数，并利用多种拟合方法预测未来参数。该系统旨在为石油勘探提供数据支持和决策依据。

### 1.2 项目目标
开发一个基于RuoYi框架的Web应用，实现测井数据处理、分形维数计算、参数预测和数据可视化功能，为石油勘探和研究提供便捷的数据分析工具。

## 2. 技术架构

### 2.1 前端技术
- 基于RuoYi-Vue框架
- Vue.js作为主要前端框架
- Element UI组件库
- ECharts图表库用于数据可视化

### 2.2 后端技术
- Java Spring Boot后端服务
- Python脚本处理数据分析任务
  - lasio库：处理LAS格式测井数据
  - pandas库：数据处理与分析
  - scikit-learn库：机器学习算法实现
  - tensorflow/pytorch：深度学习模型实现
  - seaborn/matplotlib：数据可视化
- MySQL数据库存储用户数据和分析结果

### 2.3 系统架构
- 前后端分离架构
- Java后端通过命令行调用Python脚本进行数据分析
- 文件存储系统保存用户上传的数据集和分析结果
- 任务队列管理长时间运行的计算任务

## 3. 功能模块

### 3.1 数据分析模块
#### 3.1.1 LAS数据集上传
- **功能描述**：用于上传测井数据集到服务器
- **数据格式**：支持LAS格式和XLSX格式
- **界面设计**：
  - 上方区域：上传按钮和数据格式要求说明
  - 下方区域：已上传数据表格，包含数据集名称、大小、上传时间等信息
  - 支持数据预览功能
- **后端处理**：
  - 使用lasio解析LAS文件并转为DataFrame
  - 直接使用pandas读取XLSX数据
  - 数据验证和异常处理
  - 存储原始数据和提取的关键参数

#### 3.1.2 分形维数计算
- **功能描述**：基于上传的测井数据计算分形维数
- **界面设计**：
  - 上方区域：参数选择下拉框、计算方法选择、计算按钮
  - 下方区域：数据集选择表格，显示用户已上传的数据集
- **计算参数**：
  - 可选择用于计算的测井参数（如声波时差、密度等）
  - 计算方法选择（目前假设为取平均值，后续可扩展）
  - 计算深度范围设置
- **后端处理**：
  - 异步任务处理长时间计算
  - 计算状态实时反馈
  - 结果存储与管理

#### 3.1.3 计算结果
- **功能描述**：展示分形维数计算结果
- **界面设计**：表格形式展示计算结果
- **功能特点**：
  - 计算进行中显示"计算中"状态
  - 计算完成后显示结果并提供下载按钮
  - 支持XLSX格式导出
  - 结果预览功能

### 3.2 数据预测模块
#### 3.2.1 分形维数上传
- **功能描述**：上传已有分形维数数据用于预测
- **数据格式**：仅支持XLSX格式
- **界面设计**：
  - 上传区域
  - 已上传数据列表
  - 数据格式要求说明
- **后端处理**：
  - 数据验证
  - 格式转换
  - 异常处理

#### 3.2.2 曲线拟合
- **功能描述**：使用多种数学模型进行曲线拟合预测
- **拟合方法**：
  - 线性拟合
  - 指数拟合
  - 对数拟合
  - 多项式拟合
  - 自动选择（尝试所有方法，选择R²值最优的模型）
- **界面设计**：
  - 拟合方法选择区域
  - 参数设置区域
  - 预测深度范围设置
- **后端处理**：
  - 使用scipy或numpy实现各种拟合算法
  - 计算拟合优度R²值
  - 生成预测结果

#### 3.2.3 机器学习拟合
- **功能描述**：使用机器学习算法进行预测
- **算法选择**：
  - 随机森林
  - LightGBM
  - XGBoost
  - 支持向量机(SVM)
- **界面设计**：
  - 算法选择区域
  - 超参数设置区域
  - 训练/测试数据比例设置
- **后端处理**：
  - 使用scikit-learn实现各种机器学习算法
  - 模型训练与评估
  - 交叉验证
  - 结果可视化

#### 3.2.4 深度学习拟合(只考虑用pytorch框架)
- **功能描述**：使用深度学习模型进行预测
- **模型选择**：
  - BiLSTM（双向长短期记忆网络）
  - TCN（时间卷积网络）
  - 其他适用于时序数据的深度学习模型
- **界面设计**：
  - 模型选择区域
  - 网络参数设置
  - 训练参数设置（学习率、批次大小、训练轮数等）
- **后端处理**：
  - GPU加速支持（如有条件）
  - 模型保存与加载
  - 训练过程监控

#### 3.2.5 拟合结果
- **功能描述**：展示各种拟合方法的结果
- **界面设计**：表格形式展示拟合结果
- **功能特点**：
  - 显示拟合状态（进行中/已完成）
  - 提供结果下载功能
  - 模型评估指标展示（R²、MSE、MAE等）
  - 支持模型导出与再利用

### 3.3 数据可视化模块
#### 3.3.1 测井曲线绘制
- **功能描述**：绘制测井数据的特征曲线
- **界面设计**：
  - 参数选择区域
  - 深度范围设置
  - 图表展示区域
- **功能特点**：
  - Y轴从上到下逆序显示（符合测井行业习惯）
  - 支持多条曲线同时显示
  - 交互式缩放和平移
  - 图表导出功能（PNG、PDF等格式）

#### 3.3.2 分形维数散点绘制
- **功能描述**：绘制分形维数的散点图
- **界面设计**：
  - 数据选择区域
  - 图表展示区域
  - 图表配置选项
- **功能特点**：
  - 支持深度-分形维数关系图
  - 支持不同参数间的相关性散点图
  - 交互式数据点查询
  - 图表导出功能

#### 3.3.3 分形拟合曲线绘制
- **功能描述**：绘制分形维数散点和拟合曲线
- **界面设计**：
  - 拟合结果选择区域
  - 图表展示区域
  - 图表配置选项
- **功能特点**：
  - 同时显示原始散点和拟合曲线
  - 支持多个拟合结果对比
  - 预测区间可视化
  - 图表导出功能

## 4. 数据流程

### 4.1 数据处理流程
1. 用户上传LAS或XLSX格式的测井数据
2. 系统解析数据并存储到数据库
3. 用户选择参数和方法计算分形维数
4. 系统执行计算并返回结果
5. 用户选择预测方法对分形维数进行拟合
6. 系统执行拟合算法并生成预测结果
7. 用户查看和导出结果，或进行可视化分析

### 4.2 数据存储设计
- 用户上传的原始数据存储
- 计算结果数据存储
- 模型参数和配置存储
- 用户配置和偏好设置存储

## 5. 非功能需求

### 5.1 性能需求
- 支持大型LAS文件处理（>100MB）
- 长时间计算任务的异步处理
- 页面加载时间控制在3秒以内
- 支持多用户并发操作

### 5.2 安全需求
- 用户数据隔离
- 敏感数据加密存储
- 防SQL注入和XSS攻击
- 操作日志记录

### 5.3 可用性需求
- 友好的用户界面
- 详细的操作指南和帮助文档
- 错误提示和处理机制
- 响应式设计，支持不同设备访问

## 6. 实现计划

### 6.1 开发阶段
1. 需求分析与设计（2周）
2. 环境搭建与基础框架开发（1周）
3. 数据分析模块开发（3周）
4. 数据预测模块开发（3周）
5. 数据可视化模块开发（2周）
6. 系统集成与测试（2周）
7. 部署与上线（1周）

### 6.2 技术难点
- LAS文件解析和处理
- 分形维数计算算法实现
- 多种拟合方法的集成
- 深度学习模型的训练和部署
- 大数据量下的性能优化

## 7. 附录

### 7.1 术语表
- **测井数据**：石油勘探中通过测井工具获取的地层物理参数数据
- **LAS格式**：Log ASCII Standard，测井数据的标准文件格式
- **分形维数**：描述复杂系统的几何复杂度的参数
- **拟合**：通过数学模型或算法对数据进行模拟和预测的过程

### 7.2 参考资料
- 相关论文引用
- 技术文档链接
- 行业标准参考 